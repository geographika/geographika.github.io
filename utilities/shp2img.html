<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>shp2img &#8212; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="Utilities" href="index.html" />
    <link rel="next" title="shptree" href="shptree.html" />
    <link rel="prev" title="scalebar" href="scalebar.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../de/utilities/shp2img.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../es/utilities/shp2img.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../zh_cn/utilities/shp2img.html"><img src="../_static/flagicons/zh_cn.png" alt="zh_cn" title="zh_cn" border="0" /></a>
        

    </td>
  </tr>
</table>



  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="shp2img">
<span id="index-0"></span><span id="id1"></span><h1>shp2img<a class="headerlink" href="#shp2img" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>Creates a map image from a mapfile. Output is either PNG or GIF depending
on what version of the GD library is used.  This is a useful utility to test your
mapfile. You can simply provide the path to your mapfile and the name of an output
image, and an image should be returned. If an image cannot be created an error will
be displayed at the command line that should refer to a line number in the mapfile.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">mapfile</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">image</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">minx</span> <span class="n">miny</span> <span class="n">maxx</span> <span class="n">maxy</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">sizex</span> <span class="n">sizey</span><span class="p">]</span>
       <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="s2">&quot;layer1 [layers2...]&quot;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="nb">format</span><span class="p">]</span>
       <span class="p">[</span><span class="o">-</span><span class="n">all_debug</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">map_debug</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">layer_debug</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span>
      <span class="n">layername</span> <span class="n">datavalue</span><span class="p">]</span>
<span class="o">-</span><span class="n">m</span> <span class="n">mapfile</span><span class="p">:</span> <span class="n">Map</span> <span class="n">file</span> <span class="n">to</span> <span class="n">operate</span> <span class="n">on</span> <span class="o">-</span> <span class="n">required</span>
<span class="o">-</span><span class="n">i</span> <span class="nb">format</span><span class="p">:</span> <span class="n">Override</span> <span class="n">the</span> <span class="n">IMAGETYPE</span> <span class="n">value</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">output</span> <span class="nb">format</span>
<span class="o">-</span><span class="n">o</span> <span class="n">image</span><span class="p">:</span> <span class="n">output</span> <span class="n">filename</span> <span class="p">(</span><span class="n">stdout</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">provided</span><span class="p">)</span>
<span class="o">-</span><span class="n">e</span> <span class="n">minx</span> <span class="n">miny</span> <span class="n">maxx</span> <span class="n">maxy</span><span class="p">:</span> <span class="n">extents</span> <span class="n">to</span> <span class="n">render</span>
<span class="o">-</span><span class="n">s</span> <span class="n">sizex</span> <span class="n">sizey</span><span class="p">:</span> <span class="n">output</span> <span class="n">image</span> <span class="n">size</span>
<span class="o">-</span><span class="n">l</span> <span class="n">layers</span><span class="p">:</span> <span class="n">layers</span> <span class="n">to</span> <span class="n">enable</span> <span class="o">-</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">they</span> <span class="n">are</span> <span class="n">quoted</span> <span class="ow">and</span> <span class="n">space</span> <span class="n">separated</span>
   <span class="k">if</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">listed</span>
<span class="o">-</span><span class="n">all_debug</span> <span class="n">n</span><span class="p">:</span> <span class="n">Set</span> <span class="n">debug</span> <span class="n">level</span> <span class="k">for</span> <span class="nb">map</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">layers</span>
<span class="o">-</span><span class="n">map_debug</span> <span class="n">n</span><span class="p">:</span> <span class="n">Set</span> <span class="nb">map</span> <span class="n">debug</span> <span class="n">level</span>
<span class="o">-</span><span class="n">layer_debug</span> <span class="n">layer_name</span> <span class="n">n</span><span class="p">:</span> <span class="n">Set</span> <span class="n">layer</span> <span class="n">debug</span> <span class="n">level</span>
<span class="o">-</span><span class="n">c</span> <span class="n">n</span><span class="p">:</span> <span class="n">draw</span> <span class="nb">map</span> <span class="n">n</span> <span class="n">number</span> <span class="n">of</span> <span class="n">times</span>
<span class="o">-</span><span class="n">p</span> <span class="n">n</span><span class="p">:</span> <span class="n">pause</span> <span class="k">for</span> <span class="n">n</span> <span class="n">seconds</span> <span class="n">after</span> <span class="n">reading</span> <span class="n">the</span> <span class="nb">map</span>
<span class="o">-</span><span class="n">d</span> <span class="n">layername</span> <span class="n">datavalue</span><span class="p">:</span> <span class="n">change</span> <span class="n">DATA</span> <span class="n">value</span> <span class="k">for</span> <span class="n">layer</span>
</pre></div>
</div>
<div class="section" id="example-1">
<h3>Example #1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">vector_blank</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test.png&#8217; is created, that you can drag into your browser to view.</dd>
</dl>
</div>
<div class="section" id="example-2">
<h3>Example #2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">gmap75</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test2</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">map_debug</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test2.png&#8217; is created, and layer draw speeds are returned such as:</dd>
</dl>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">msDrawRasterLayerLow</span><span class="p">(</span><span class="n">bathymetry</span><span class="p">):</span> <span class="n">entering</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">0</span> <span class="p">(</span><span class="n">bathymetry</span><span class="p">),</span> <span class="mf">0.601</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">3</span> <span class="p">(</span><span class="n">drain_fn</span><span class="p">),</span> <span class="mf">0.200</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">4</span> <span class="p">(</span><span class="n">drainage</span><span class="p">),</span> <span class="mf">0.300</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">5</span> <span class="p">(</span><span class="n">prov_bound</span><span class="p">),</span> <span class="mf">0.191</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">6</span> <span class="p">(</span><span class="n">fedlimit</span><span class="p">),</span> <span class="mf">0.030</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">9</span> <span class="p">(</span><span class="n">popplace</span><span class="p">),</span> <span class="mf">0.080</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Drawing</span> <span class="n">Label</span> <span class="n">Cache</span><span class="p">,</span> <span class="mf">0.300</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">1.702</span><span class="n">s</span>
<span class="n">msSaveImage</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.040</span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="example-3">
<h3>Example #3<a class="headerlink" href="#example-3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">gmap75</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test3</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">all_debug</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test3.png&#8217; is created, layer draw speeds are returned,
and some warnings that index qix files are not found, such as:</dd>
</dl>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">msLoadMap</span><span class="p">():</span> <span class="mf">0.671</span><span class="n">s</span>
<span class="n">msDrawRasterLayerLow</span><span class="p">(</span><span class="n">bathymetry</span><span class="p">):</span> <span class="n">entering</span><span class="o">.</span>
<span class="n">msDrawGDAL</span><span class="p">():</span> <span class="n">src</span><span class="o">=</span><span class="mi">72</span><span class="p">,</span><span class="mi">417</span><span class="p">,</span><span class="mi">3077</span><span class="p">,</span><span class="mi">2308</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">300</span>
<span class="n">msDrawGDAL</span><span class="p">():</span> <span class="n">red</span><span class="p">,</span><span class="n">green</span><span class="p">,</span><span class="n">blue</span><span class="p">,</span><span class="n">alpha</span> <span class="n">bands</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">0</span> <span class="p">(</span><span class="n">bathymetry</span><span class="p">),</span> <span class="mf">0.090</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span>
<span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">apps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">drain_fn</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span>
<span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">3</span> <span class="p">(</span><span class="n">drain_fn</span><span class="p">),</span> <span class="mf">0.010</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">4</span> <span class="p">(</span><span class="n">drainage</span><span class="p">),</span> <span class="mf">0.050</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span>
<span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">apps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">province</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span>
<span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">5</span> <span class="p">(</span><span class="n">prov_bound</span><span class="p">),</span> <span class="mf">0.030</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span>
<span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">apps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">fedlimit</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span>
<span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">6</span> <span class="p">(</span><span class="n">fedlimit</span><span class="p">),</span> <span class="mf">0.010</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">9</span> <span class="p">(</span><span class="n">popplace</span><span class="p">),</span> <span class="mf">0.010</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Drawing</span> <span class="n">Label</span> <span class="n">Cache</span><span class="p">,</span> <span class="mf">0.201</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.401</span><span class="n">s</span>
<span class="n">msSaveImage</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.010</span><span class="n">s</span>
<span class="n">shp2img</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">1.082</span><span class="n">s</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">shp2img</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a><ul>
<li><a class="reference internal" href="#example-1">Example #1</a></li>
<li><a class="reference internal" href="#example-2">Example #2</a></li>
<li><a class="reference internal" href="#example-3">Example #3</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>